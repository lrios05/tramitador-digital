<div class="container">
    <div fxFlex fxLayout="column" fxLayoutGap="0px">
        <div fxLayout="row wrap">
            <div fxFlex="100" fxLayout="column">
                <!--div style="margin-bottom:20px">
            <alert></alert>
            </div-->
                <div class="absolute-center" *ngIf="dataLoading">
                    <mat-spinner [diameter]="80"></mat-spinner>
                </div>
                <div *ngIf="!dataLoading" style="margin-right:10px">
                    <!--mat-vertical-stepper #stepper-->
                    <mat-horizontal-stepper #stepper (selectionChange)="onStepChange($event)" class="box-container">
                        <mat-step label="Datos del Cliente">
                            <app-client></app-client>
                            <div class="stepper-navigation">
                                <button [disabled]="!clientFormValid" mat-raised-button color="primary" matStepperNext>Siguiente</button>
                            </div>
                        </mat-step>

                        <mat-step label="Datos de la Empresa">
                            <app-company style="margin-top: 15px"></app-company>
                            <div class="stepper-navigation">
                                <button mat-raised-button color="accent" matStepperPrevious>Volver</button>&nbsp;
                                <button [disabled]="!companyFormValid" mat-raised-button color="primary" matStepperNext>Siguiente</button>
                            </div>
                        </mat-step>

                        <mat-step label="Datos del Contrato">
                            <app-contract style="margin-top: 15px"></app-contract>
                            <div class="stepper-navigation">
                                <button mat-raised-button color="accent" matStepperPrevious>Volver</button>&nbsp;
                                <button [disabled]="!contractFormValid" mat-raised-button color="primary" matStepperNext>Siguiente</button>
                            </div>
                        </mat-step>

                        <mat-step label="Firma Digital del contrato">
                            <!--contact-review-form [contact]="contact" [errorMessages]="errorMessages"></contact-review-form-->
                            <!--app-infectius style="margin-top: 15px"></app-infectius-->
                            <app-pdfviewer style="margin-top: 15px;"></app-pdfviewer>
                            <div style="margin-top:40px; margin-bottom:20px;margin-left:17px">
                                <button mat-raised-button color="accent" matStepperPrevious>Volver</button>&nbsp;
                                <button [disabled]="!allFormsValid" *ngIf="!formSubmitted" mat-raised-button
                                    color="primary" (click)="saveForm()">
                                    Guardar y finalizar
                                </button>
                                <mat-spinner *ngIf="formSubmitted" [diameter]="50"></mat-spinner>
                            </div>
                        </mat-step>

                        <mat-step label="Subir documentos">
                            <app-file style="margin-top: 15px"></app-file>
                            <div class="stepper-navigation">
                                <button mat-raised-button color="accent" matStepperPrevious>Volver</button>&nbsp;
                                <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
                            </div>
                        </mat-step>

                    </mat-horizontal-stepper>
                </div>
            </div>
        </div>
    </div>
</div>